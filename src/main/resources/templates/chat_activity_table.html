<div xmlns:th="http://www.thymeleaf.org" class="fix-height">
    <!--/*@thymesVar id="activityStatistic" type="java.util.List"*/-->
    <!--/*@thymesVar id="chat" type="org.telegram.telegrambots.meta.api.objects.Chat"*/-->
    <table class="table table-bordered table-sm bg-white" th:if="${!activityStatistic.isEmpty()}">
        <thead class="thead-light text-center">
        <tr>
            <th width="8%">#</th>
            <th width="37%" th:text="${chat.isUserChat() ? 'Chat' : 'User'}" ></th>
            <th width="25%">Activity</th>
            <th width="15%">Messages</th>
            <th width="15%">Characters</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="item, iter : ${activityStatistic}">
            <td th:text="${iter.index} + 1" class="text-right"></td>
            <td th:text="${item.subject.label}">
            </td>
            <td th:with="activity=${100.0 * item.score / totalScore}, activityStr=${#numbers.formatDecimal(activity, 1, 0)}">
                <div class="progress" style="height: 1.5rem"
                     th:title="${#numbers.formatInteger(item.score, 0, 'WHITESPACE')} + ' points'">
                    <div class="progress-bar" role="progressbar"
                         th:style="'width: ' + ${activityStr} + '%; min-width: 1%'">
                        <div th:if="${activity >= 40}"
                             th:text="${activityStr} + '%'"></div>
                    </div>
                    <div th:if="${activity} < 40" class="ml-2 d-flex flex-column justify-content-center"
                         th:text="${activityStr} + '%'"></div>
                </div>
            </td>
            <td th:text="${#numbers.formatInteger(item.count, 1, 'WHITESPACE')}" class="text-right"></td>
            <td th:text="${#numbers.formatInteger(item.length, 1, 'WHITESPACE')}" class="text-right"></td>
        </tr>
        </tbody>
    </table>
    <div class="alert-info p-3 mb-3" th:if="${activityStatistic.isEmpty()}">
        No messages found for the selected period
    </div>
</div>